# 基于bs4库HTML内容查找方法

以下所有内容基于以下这串代码：
```python
#!/usr/bin/python
# -*- coding: UTF-8 -*-

import requests
from bs4 import BeautifulSoup
url="https://python123.io/ws/demo.html"
r=requests.get(url)
demo=r.text
```
## 一、BeautifulSoup库中的.find_all()方法介绍：

1. 格式：  
`Tag.find_all(name=None, attrs={}, recursive=True, text=None, limit=None, **kwargs)`

* name : 对**标签名称**的检索字符串, 返回一个列表类型，存储查找的结果
* attrs: 对**标签属性值**的检索字符串，可标注属性检索
* recursive: 是否对**子孙全部**检索，默认True
* string: <>…</>中**字符串区域**的检索字符串

PS：  
```html
1. <tag>(..) 等价于 <tag>.find_all(..)  
   soup(..) 等价于 soup.find_all(..)  
2. 多个标签作为参数如此填写： ['a','b']
3. <tag>.find_all(True)，结果将是当前所有标签信息   
4. 正则表达式可用于.find_all()等方法中，类似关键词/模糊词查找。使用时要导入re库，用re.compile()方法

结果会输出一个列表
```

2.实例：
```python
import re # 正则表达式库
from bs4 import BeautifulSoup
import  requests
r = requests.get("http://python123.io/ws/demo.html")
demo = r.text
soup = BeautifulSoup(demo,"html.parser")
# 查找demo里的a标签里的href的内容
for link in soup.find_all('a'):
    print(link.get('href'))
# 输出所有a和b标签在列表中
print(soup.find_all(['a','b']))
# <tag>.find_all(True)，结果将是当前所有标签信息   
for tag in soup.find_all(True):
    print(tag.name)
# 用正则表达式查找demo里以b开头的所有标签
for tag in soup.find_all(re.compile('b')):
    print(tag.name)
# 查找demo里的p标签里的course的内容
print(soup.find_all('p','course'))
# 查找demo里的keyword（关键字参数）id属性中是否包含link1的标签,如果link1没有，将输出空
print(soup.find_all(id='link1'))
# 用正则表达式来输出link字符串(以link开头)
print(soup.find_all(id=re.compile('link')))
#　recursive是否对子孙全部检索，默认为True，改为False后只能查儿子节点
print(soup.find_all('a',recursive=False))
# 检索Basic Python字符串
print(soup.find_all(string = 'Basic Python'))
# 用正则表达式检索含有python的所有字符串
print(soup.find_all(string = re.compile('python')))


# Output：
http://www.icourse163.org/course/BIT-268001
http://www.icourse163.org/course/BIT-1001870001
[<b>The demo python introduces several python courses.</b>, <a class="py1" href="http://www.icourse163.org/course/BIT-268001" id="link1">Basic Python</a>, 
<a class="py2" href="http://www.icourse163.org/course/BIT-1001870001" id="link2">Advanced Python</a>]
html
head
title
body
p
b
p
a
a
body
b
[<p class="course">Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:
<a class="py1" href="http://www.icourse163.org/course/BIT-268001" id="link1">Basic Python</a> and <a class="py2" href="http://www.icourse163.org/course/BIT-1001870001" id="link2">Advanced Python</a>.</p>]
[<a class="py1" href="http://www.icourse163.org/course/BIT-268001" id="link1">Basic Python</a>]
[<a class="py1" href="http://www.icourse163.org/course/BIT-268001" id="link1">Basic Python</a>, <a class="py2" href="http://www.icourse163.org/course/BIT-1001870001" id="link2">Advanced Python</a>]
[]
['Basic Python']
['This is a python demo page', 'The demo python introduces several python courses.']

```

## 二、bs4扩展方法：
![bs4扩展方法](https://img-blog.csdnimg.cn/20190109173523345.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTA1Nzc4,size_16,color_FFFFFF,t_70)