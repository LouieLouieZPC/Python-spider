# re库 
## 一、RE库介绍
调用方法：`import re`

## 二、正则表达式的表示类型
re库可用raw string类型（即原生字符串类型。当正则表达式包含转义符时，推荐使用）和普通的string类型

原生字符串类型是指：斜杠\  不会转意。因为正则表达式中操作符有些是和斜杠一起构成的，使用原生字符串就可以防止转意了。

在字符串前加一个小写字母r就可以了。  
如：  
`r"[1-9]?\d"`  
所以：  
当正则表达式中包含转意符号时，使用原生字符串。  


## 三、re库主要功能函数
![re库主要功能函数](https://img-blog.csdn.net/20170326163209199)

### (一)re.search(pattern,string,flags=0)
搜索所有字符串内容，只取第一个能满足的

（1）作用：在一个字符串中搜索匹配正则表达式的第一个位置，返回match对象。    
（2）参数说明：  
* pattern：正则表达式的字符串或原生字符串  
* string：需要和这个正则表达式匹配的字符串  
* flags：正则表达式使用时的控制标记  
  * re.I     忽略正则表达式的大小写，[a-z]可以匹配大写  
  * re.M  正则表达式中的^操作符能够将给定的字符串的每行当做匹配的开始  
  * re.S   正则表达式中的.点操作符能够匹配所有的字符，默认匹配除换行符外的所有字符  

（3）实例：
```python
import re
match=re.search(r'[1-9]\d{5}','BIT 100081')
if match:
    print(match.group(0))    # group(0)方法表示输出匹配字符串

'''
# Output：
100081
'''
```


### (二)re.match(pattern,string,flags=0)
从头开始找，后面的不找，只取能满足条件的内容，若无，则返回空值

（1）作用：从一个字符串的开始位置起匹配正则表达式，返回match对象。

（2）参数说明：同search

（3）实例：
```python
import re
# 第一个例子
match=re.match(r'[1-9]\d{5}','BIT 100081')  
if match:
    print(match.group(0))   # 无结果，因为match是个空变量，"returning a Match object, or None if no match was found."

'''
# Output:

'''

# 第二个例子：你中头奖了！！！
match=re.match(r'[1-9]\d{5}','100081 BIT')
if match:
    print(match.group(0))

'''
# Output:
100081
'''
```

### (三)re.findall(pattern,string,flags=0)
搜索所有字符串内容，取所有能满足条件的，以列表的数据结构返回

（1）作用：搜索字符串，以列表的形式返回所有能够匹配的子串。

（2）参数说明：参数同search

（3）实例：
```python
import re
Is=re.findall(r'[1-9]\d{5}','BIT100081 TSU100084')
print(Is)
'''
# Output：
['100081', '100084']
'''
```

### (四)re.split(patttern,string,maxsplit=0,flags=0)
（1）作用：将一个字符串按照正则表达式匹配的结果进行分割，返回列表类型。

（2）参数说明：  
pattren\string\flags参数和search、match、findall的方法一样，

maxsplit：最大分割数（希望将字符串分割成几个部分），超过最大分割数的剩余部分作为最后一个元素输出

（3）实例：  
```python

# 当maxsplit=0时
import re
print(re.split(r'[1-9]\d{5}','BIT100081 TSU100084'))

'''
# Output：
['BIT', ' TSU', '']   # 输出列表中有一个空string，因为是剩余部分作为左后一个元素输出
'''

# 当maxsplit=1时
print(re.split(r'[1-9]\d{5}','BIT100081 TSU100084',maxsplit=1))
'''
# Output：
['BIT', ' TSU100084']  # 最大分割是1，所以只分割1个，剩下的原路返回

'''
```

### (五)re.finditer(pattern,string,flags=0)e
findall得到的是一个列表，而finditer得到的是一个match对象的迭代器

（1）作用：搜索字符串，返回一个匹配结果的迭代类型，每个迭代元素都是match对象。

（2）参数说明：参数和search、match、findall方法一样

（3）实例：
```python
import re
for i in re.finditer(r'[1-9]\d{5}','BIT100081 TSU100084'):
    if i:
        print(i.group(0))
match=re.finditer(r'[1-9]\d{5}','BIT100081 TSU100084')
print(type(match))
'''
# Output：
100081
100084
<class 'callable_iterator'>  #是个迭代器类型
'''
```

### (六)re.sub(pattern,repl,string,count=0,flags=0)
（1）作用：在一个字符串中替换所有匹配正则表达式的子串，返回被替换后的字符串。

（2）参数说明：参数pattern、string、flags和search、match、findall的参数一样。

repl：替换匹配字符串的字符串

count：匹配的最大替换次数

（3）实例：
```python
import re
print(re.sub(r'[1-9]\d{5}',':zipcode','BIT100081 TSU100084'))

'''
# Output：
BIT:zipcode TSU:zipcode
'''
```